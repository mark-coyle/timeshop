{% extends 'main_layout.html' %} 

{% block body %}

<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
        Dashboard
        <small>Control panel</small>
        </h1>
        {% include 'includes/_messages.html' %}
    </section>

    <!-- Main content -->
    <section class="content">
        <!-- Recent Updates  -->
        <div class="row">
            <div class="col-md-12">
                <div class="col-md-6">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3>New Additions</h3>
                            <div class="panel body">
                                <table class="table table-stripped">
                                    <tr>
                                        <th>Product Name</th>
                                        <th>Product Description</th>
                                        <th>Date Added</th>
                                    </tr>
                                    {% for p in new_additions %}
                                        <tr>
                                            <td><a href="/Product/view/{{p.product_id}}">{{ p.name }}</a></td>
                                            <td>{{ p.description }}</td>
                                            <td>{{ p.date_added }}</td>
                                            <td>{{ p.image }}</td>
                                        </tr>
                                    {% endfor %}
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3>Most Popular</h3>
                            <div class="panel body">
                                {% if products %}
                                    <table class="table table-stripped">
                                        <thead>
                                            <tr>
                                                <th>Product Name</th>
                                                <th>Product Description</th>
                                                <th>Liked By</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for p in products %}
                                               <tr>
                                                   <td><a href="/Product/view/{{p.product_id}}">{{p.name}}</a></td>
                                                   <td>{{p.description}}</td>
                                                   <td>{{p.like_count}}</td>
                                               </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                {% else %}
                                    <p>No Products Are Popular</p>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- <div class="row">
            <div class="col-md-12">
                <div class="col-md-12">
                    <div id="myCarousel" class="carousel slide" data-ride="carousel">
                        
                        <ol class="carousel-indicators">
                            {% if new_additions %}
                                <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                                {% set count = 0 %}
                                {% for p in new_addtions %}
                                    {% set count = count + 1 %}
                                    <li data-target="#myCarousel" data-slide-to="{{count}}"></li>
                                {% endfor %}
                            {% endif %}
                            
                        </ol>
                        
                       // Wrapper for slides 
                        <div class="carousel-inner">
                            // Dynamically Display new products
                            {% if new_additions %}
                                <div class="item active">
                                    <img src="{{ url_for('static', filename='images/products/'+new_additions[0].image) }}" alt="" class="img-responsive" style="max-height:600px!important; min-width:100%;">
                                </div>
                                {% for p in new_additions %}
                                    <div class="item">
                                        <img src="{{ url_for('static', filename='images/products/'+p.image) }}" alt="" class="img-responsive" style="max-height:600px!important; min-width:100%;">
                                    </div>
                                {% endfor %}
                            {% else %}
                                <div class="item active">
                                        <img src="{{ url_for('static', filename='images/modern-watch.jpg') }}" alt="" class="img-responsive" style="max-height:600px!important; min-width:100%;">
                                </div>
                            
                                <div class="item">
                                        <img src="{{ url_for('static', filename='images/modern-watch.jpg') }}" alt="" class="img-responsive" style="max-height:600px!important; min-width:100%;">
                                </div>
                            
                                <div class="item">
                                        <img src="{{ url_for('static', filename='images/modern-watch.jpg') }}" alt="" class="img-responsive" style="max-height:600px!important; min-width:100%;">
                                </div>
                            {% endif %}
                        </div>
                        
                        //Left and right controls 
                        <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                            <span class="glyphicon glyphicon-chevron-left"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="right carousel-control" href="#myCarousel" data-slide="next">
                            <span class="glyphicon glyphicon-chevron-right"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
            </div>
        </div> -->

<!-- 
        <div class="row">
            <div class="col-md-12">
                <div class="col-md-4">
                     <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3>New updates</h3>
                            <div class="panel body">

                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                     <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3>News Updates</h3>
                            <div class="panel body">

                            </div>
                        </div>
                    </div> 
                </div>

                <div class="col-md-4">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3>Currency Converter</h3>
                            <div class="panel body">
                        
                            </div>
                        </div>
                    </div>    
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                Info on stock here
            </div>
        </div> -->
    </section>
    <!-- /.content -->


    <div class="row">
        <div class="col-md-12" id="news">
            
        </div>
    </div>
    
</div>

{% endblock %}